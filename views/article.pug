doctype html

html(lang="en")
head
  meta(charset="utf-8")
  meta(http-equiv="X-UA-Compatible" content="IE=edge")
  meta(name="viewport" content="width=device-width, initial-scale=1")

  title Article analytics

  //- Include bootstrap
  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous")
  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous")
  link(rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css")
  link(rel='stylesheet' href='//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css')

  //- Favicon
  link(rel='icon' href='favicon.ico', type='image/x-icon')

  //- Include the css files
  link(rel="stylesheet" href="css/main.css")

  //- Include all mixins
  include ./mixins/navbar.pug
  include ./mixins/charts.pug

body.well
  +navbar
  .container-fluid
    .col-sm-12
      - if(!data.found)
        h3 Article not found
      - if(data.found)
        .row
          .col-sm-12
            .panel.panel-primary
              .panel-heading
                h3.panel-title #{ data.article.title }
              .panel-body
                .col-sm-9
                  h4 Total revisions: #{ data.revisions }

                .col-sm-3
                  h4 Top 5 regular users
                  ul.list-group
                    each editor in data.topEditors
                      li.list-group-item
                        span.badge #{ editor.count }
                        | #{ editor._id }

      #charts.row
        +articleCharts

  script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js")
  script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous")

  //- Include google charts
  script(type='text/javascript', src='https://www.gstatic.com/charts/loader.js')
  script(src="js/articles.js")
